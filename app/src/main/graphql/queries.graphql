fragment VodSchema on Vod {
    id
    title
    started_at
    ended_at
    state
    visibility
    categories {
        name
        timestamp
        url
    }
    variants {
        name
        width
        height
        fps
        ready
    }
}

query VodsQuery($page: Int!, $limit: Int!, $searchQuery: String) {
    vods(user_id: "61e33d2940bb32eb56745580", page: $page, limit: $limit, search: $searchQuery) {
        ...VodSchema
    }
}

query VodQuery($id: ObjectID!) {
    vod(id: $id) {
        ...VodSchema
    }
}

query ChatMessagesQuery($vodId: ObjectID!, $limit: Int!, $before: Time!, $after: Time!) {
    messages(vod_id: $vodId, limit: $limit, before: $before, after: $after, page: 0) {
        id
        content
        timestamp
        twitch {
            display_name
            color
        }
        emotes {
            name
            urls
            zero_width
        }
        badges {
            name
            urls
        }
    }
}
